#!/usr/bin/env bash
set -euo pipefail

{{- if eq .emacs true }}
# URLs
EMACS=https://github.com/emacs-mirror/emacs.git
BRANCH=emacs-27
TEMP_DIR=/tmp/emacs

# Emacs setup
git clone --depth=1 --branch=$BRANCH $EMACS $TEMP_DIR
cd $TEMP_DIR
./autogen.sh
./configure --prefix=$HOME/.local
make -j $(nproc) install
{{- end }}
